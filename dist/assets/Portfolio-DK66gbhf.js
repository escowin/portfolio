import{j as e,F as s,f as a,T as t,P as i}from"./components-D_vQDGhX.js";import{r,L as o,e as l,M as c,G as n,E as d,c as m,b as p,C as h}from"./icons-Bt8SZ4a5.js";import{p as x}from"./index-cmYM-TMt.js";import"./vendor-CnyiGUev.js";function u({selectedPortfolio:u}){const j=x.applications,[y,g]=r.useState({searchTerm:"",tech:"",complexity:""}),[f,b]=r.useState({sortBy:"",sortOrder:"asc"}),[w,C]=r.useState(null),[N,v]=r.useState(!1);let k;if("Featured"===u){const e=[];Object.entries(j).forEach((([s,a])=>{Array.isArray(a)&&a.forEach((a=>{!0===a.highlight&&e.push({...a,category:s})}))})),k=e}else{const e=j[u].sort((()=>Math.random()-.5)),s=e.filter((e=>!0===e.highlight)),a=e.filter((e=>!0!==e.highlight));k=[...s,...a]}const L={Frontend:c,Backend:l,Fullstack:o},F=r.useMemo((()=>{let e=k;return(y.searchTerm||y.tech||y.complexity)&&(e=function(e,s){const{searchTerm:a,tech:t,complexity:i}=s;return e.filter((e=>{var s,r,o,l,c,n;if(a){const t=a.toLowerCase(),i=e.id.toLowerCase().includes(t),l=(null==(s=e.description)?void 0:s.toLowerCase().includes(t))||!1,c=(null==(r=e.languages)?void 0:r.toLowerCase().includes(t))||!1,n=(null==(o=e.libraries)?void 0:o.toLowerCase().includes(t))||!1;if(!(i||l||c||n))return!1}if(t){const s=t.toLowerCase();if(!((null==(l=e.languages)?void 0:l.toLowerCase().includes(s))||(null==(c=e.libraries)?void 0:c.toLowerCase().includes(s))||(null==(n=e.database)?void 0:n.toLowerCase().includes(s))))return!1}return!i||e.complexity===i}))}(e,y)),f.sortBy&&(e=function(e,s){const{sortBy:a,sortOrder:t}=s;return a?[...e].sort(((e,s)=>{let i,r;switch(a){case"name":i=e.id.toLowerCase(),r=s.id.toLowerCase();break;case"complexity":const a={low:1,medium:2,high:3};i=a[e.complexity]||0,r=a[s.complexity]||0;break;case"year":i=parseInt(e.year)||0,r=parseInt(s.year)||0;break;default:return 0}return i<r?"asc"===t?-1:1:i>r?"asc"===t?1:-1:0})):e}(e,f)),e}),[k,y,f]),z=e=>{C(e),v(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(s,{onFilterChange:e=>{g((s=>({...s,...e})))},onSortChange:e=>{b(e)},onSearchChange:e=>{g((s=>({...s,searchTerm:e})))},totalProjects:k.length,filteredCount:F.length}),e.jsx("section",{className:"portfolio grid "+("Featured"===u?"grid--auto-fit":"grid--2-col"),role:"region","aria-label":`${u} Projects`,children:F.map(((s,i)=>{const r="Featured"===u?s.category:u,o=L[r];return e.jsx("article",{id:s.id,className:`app card ${s.highlight?"highlight":""} ${"Featured"===u?"featured-project":""} clickable`,onClick:()=>z(s),role:"button",tabIndex:0,onKeyDown:e=>"Enter"===e.key&&z(s),"aria-label":`View details for ${a(s.id)} project`,children:e.jsxs("div",{className:"app-details overlay",children:[e.jsxs("div",{className:"project-header",children:[e.jsxs("div",{className:"project-title-section",children:[o&&e.jsx(o,{size:24,className:"project-type-icon"}),e.jsx("h2",{className:"heading heading--secondary",children:a(s.id)})]}),s.year&&e.jsx("span",{className:"project-year text text--sm",children:s.year})]}),s.description&&e.jsx("p",{className:"project-description text text--sm",children:s.description}),e.jsxs("h3",{className:"app-links text text--sm",children:[e.jsxs("span",{className:"link link--hover",onClick:()=>window.open(s.repo),children:[e.jsx(n,{size:22,className:"inline-icon"}),"Repo"]}),s.liveUrl&&e.jsxs("span",{className:"link link--hover",onClick:()=>window.open(s.liveUrl),children:[" ",e.jsx(d,{size:22,className:"inline-icon"}),"Live url"]})]}),e.jsx("div",{className:"tech-stack tech-stack--compact",children:e.jsx(t,{languages:s.languages,libraries:s.libraries,database:s.database,size:"small",showLabels:!1,maxItems:"Featured"===u?8:6})}),s.complexity&&e.jsxs("div",{className:"project-complexity",children:[e.jsx("span",{className:"complexity-label text text--sm",children:"Complexity:"}),e.jsxs("span",{className:`complexity-badge complexity-badge--${s.complexity}`,children:["low"===s.complexity&&e.jsx(m,{size:20,className:"complexity-icon"}),"medium"===s.complexity&&e.jsx(p,{size:20,className:"complexity-icon"}),"high"===s.complexity&&e.jsx(h,{size:20,className:"complexity-icon"}),s.complexity]})]})]})},i)}))}),e.jsx(i,{project:w,isOpen:N,onClose:()=>{v(!1),C(null)},category:"Featured"===u?null==w?void 0:w.category:u})]})}export{u as default};
